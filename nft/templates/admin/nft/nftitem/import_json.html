{% extends "admin/base_site.html" %}
{% load i18n %}

{% block content %}
  <div class="content">
    <h1>{% trans "Importar NFTs via JSON" %}</h1>

    <p class="help">
      Cole o JSON. Formatos aceitos:
      <ul>
        <li><strong>Formato Habbo API:</strong> {"success": true, "data": [{"id": "...", "name": "...", "collection_name": "...", ...}]}</li>
        <li><strong>Formato Django export:</strong> {"nfts": [{"model": "nft.nftitem", "pk": 123, "fields": { ... }}]}</li>
        <li><strong>Lista direta:</strong> [{"name": "...", "product_code": "...", ...}]</li>
        <li><strong>Objeto Ãºnico:</strong> {"name": "...", "product_code": "...", ...}</li>
      </ul>
    </p>

    <form method="post" novalidate>
      {% csrf_token %}
      <div class="form-row">
        <label for="id_payload"><strong>{% trans "JSON" %}</strong></label>
        <textarea name="payload" id="id_payload" rows="18" style="width:100%; font-family:monospace;"></textarea>
      </div>
      <div class="form-row" style="margin-top: 10px;">
        <label><input type="checkbox" name="update_existing"> {% trans "Atualizar registros existentes (por product_code ou pk)" %}</label>
      </div>
      <div class="submit-row">
        <button type="submit" class="default">{% trans "Importar" %}</button>
        <a href="{% url 'admin:nft_nftitem_changelist' %}" class="button cancel-link">{% trans "Cancelar" %}</a>
      </div>
    </form>
  </div>
{% endblock %}
